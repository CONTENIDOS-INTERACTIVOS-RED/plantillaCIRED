{"remainingRequest":"/home/runner/work/plantillaCIRED/plantillaCIRED/node_modules/thread-loader/dist/cjs.js!/home/runner/work/plantillaCIRED/plantillaCIRED/node_modules/babel-loader/lib/index.js!/home/runner/work/plantillaCIRED/plantillaCIRED/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/runner/work/plantillaCIRED/plantillaCIRED/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/runner/work/plantillaCIRED/plantillaCIRED/src/components/Zoom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/runner/work/plantillaCIRED/plantillaCIRED/src/components/Zoom.vue","mtime":1737080005132},{"path":"/home/runner/work/plantillaCIRED/plantillaCIRED/babel.config.js","mtime":1737080005057},{"path":"/home/runner/work/plantillaCIRED/plantillaCIRED/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/plantillaCIRED/plantillaCIRED/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/plantillaCIRED/plantillaCIRED/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/home/runner/work/plantillaCIRED/plantillaCIRED/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/runner/work/plantillaCIRED/plantillaCIRED/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc2x5ZGVyTWl4aW5zIGZyb20gJy4uL21peGlucy9zbHlkZXJNaXhpbnMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1pvb20nLAogIG1peGluczogW3NseWRlck1peGluc10sCiAgcHJvcHM6IHsKICAgIGxlbnRlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJzE1MCcKICAgIH0sCiAgICBiYWphUmVzb2x1Y2lvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgYWx0YVJlc29sdWNpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHpvb21MZXZlbDogMSwKICAgICAgZW50ZXI6IGZhbHNlLAogICAgICBpc0NsaWNrZWQ6IGZhbHNlLAogICAgICBsZW5zT2JqOiB7CiAgICAgICAgdG9wOiAwLAogICAgICAgIGxlZnQ6IDAKICAgICAgfSwKICAgICAgem9vbU9iajogewogICAgICAgIHRvcDogMCwKICAgICAgICBsZWZ0OiAwCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZXh0cmFMZW5zT2JqOiBmdW5jdGlvbiBleHRyYUxlbnNPYmooKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHRoaXMubGVudGUgKyAncHgnLAogICAgICAgIGhlaWdodDogdGhpcy5sZW50ZSArICdweCcsCiAgICAgICAgdHJhbnNmb3JtOiAic2NhbGUoIi5jb25jYXQodGhpcy5lbnRlciA/IHRoaXMuem9vbUxldmVsIDogMCwgIikiKQogICAgICB9OwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGVudGVyOiBmdW5jdGlvbiBlbnRlcihuZXdWYWwpIHsKICAgICAgaWYgKCFuZXdWYWwpIHsKICAgICAgICB0aGlzLnpvb21MZXZlbCA9IDE7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgIGlmICghdGhpcy5pc0NsaWNrZWQpIHsKICAgICAgICB0aGlzLmlzQ2xpY2tlZCA9IHRydWU7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrcyk7CiAgICAgIH0KICAgIH0sCiAgICBjbGlja3M6IGZ1bmN0aW9uIGNsaWNrcyhlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoZS5wYXRoLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5pZCA9PSAiem9vbS0iLmNvbmNhdChfdGhpcy5tYWluSWQpOwogICAgICB9KSkgewogICAgICAgIHRoaXMuJHJlZnMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy56b29tKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLmlzQ2xpY2tlZCkgewogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja3MpOwogICAgICAgIHRoaXMuJHJlZnMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy56b29tKTsKICAgICAgICB0aGlzLmlzQ2xpY2tlZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgbW92ZTogZnVuY3Rpb24gbW92ZShlKSB7CiAgICAgIHZhciB6b29tID0gdGhpcy4kcmVmcy56b29tOwogICAgICB2YXIgem9vbUltZyA9IHRoaXMuJHJlZnMuem9vbUltZzsKICAgICAgdmFyIHBvc1gsIHBvc1ksIG9mZnNldCwgcGVyY1gsIHBlcmNZOwoKICAgICAgaWYgKGUudG91Y2hlcykgewogICAgICAgIHZhciBpbWdDb3JkcyA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHBvc1ggPSBlLnRvdWNoZXNbMF0uY2xpZW50WCAtIGltZ0NvcmRzLng7CiAgICAgICAgcG9zWSA9IGUudG91Y2hlc1swXS5jbGllbnRZIC0gaW1nQ29yZHMueTsKICAgICAgICBvZmZzZXQgPSAxLjE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcG9zWCA9IGUub2Zmc2V0WDsKICAgICAgICBwb3NZID0gZS5vZmZzZXRZOwogICAgICAgIG9mZnNldCA9IDI7CiAgICAgIH0KCiAgICAgIHRoaXMubGVuc09iai50b3AgPSAiIi5jb25jYXQocG9zWSAtIHpvb20ub2Zmc2V0SGVpZ2h0IC8gb2Zmc2V0LCAicHgiKTsKICAgICAgdGhpcy5sZW5zT2JqLmxlZnQgPSAiIi5jb25jYXQocG9zWCAtIHpvb20ub2Zmc2V0V2lkdGggLyBvZmZzZXQsICJweCIpOwogICAgICBwZXJjWCA9IChwb3NYIC0gZS5zcmNFbGVtZW50Lm9mZnNldExlZnQpIC8gZS5zcmNFbGVtZW50Lm9mZnNldFdpZHRoOwogICAgICBwZXJjWSA9IChwb3NZIC0gZS5zcmNFbGVtZW50Lm9mZnNldFRvcCkgLyBlLnNyY0VsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgem9vbUxlZnQgPSAtcGVyY1ggKiB6b29tSW1nLm9mZnNldFdpZHRoICsgem9vbS5vZmZzZXRXaWR0aCAvIDI7CiAgICAgIHZhciB6b29tVG9wID0gLXBlcmNZICogem9vbUltZy5vZmZzZXRIZWlnaHQgKyB6b29tLm9mZnNldEhlaWdodCAvIDI7CiAgICAgIHRoaXMuem9vbU9iai5sZWZ0ID0gIiIuY29uY2F0KHpvb21MZWZ0LCAicHgiKTsKICAgICAgdGhpcy56b29tT2JqLnRvcCA9ICIiLmNvbmNhdCh6b29tVG9wLCAicHgiKTsKICAgIH0sCiAgICB6b29tOiBmdW5jdGlvbiB6b29tKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLmRlbHRhWSA+IDAgPyB0aGlzLnpvb21MZXZlbCsrIDogdGhpcy56b29tTGV2ZWwtLTsKICAgICAgaWYgKHRoaXMuem9vbUxldmVsIDwgMSkgdGhpcy56b29tTGV2ZWwgPSAxOwogICAgICBpZiAodGhpcy56b29tTGV2ZWwgPiA1KSB0aGlzLnpvb21MZXZlbCA9IDU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Zoom.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"pug\">\n.zoom\n  .zoom__img(\n    :id=\"`zoom-${mainId}`\"\n    ref=\"img\"\n    @mouseover=\"enter = true\"\n    @mouseleave=\"enter = false\"\n    @mousemove.prevent=\"move\"\n    @touchstart=\"enter = true\"\n    @touchend=\"enter = false\"\n    @touchmove.prevent=\"move\"\n    @click=\"onClick\"\n  )\n    img(:src=\"bajaResolucion\")\n  .zoom__lens(ref=\"zoom\" :style=\"[lensObj,extraLensObj]\" :class=\"{show:enter}\")\n    img(ref=\"zoomImg\" :src=\"altaResolucion\" :style=\"zoomObj\")\n\n  slot\n\n</template>\n\n<script>\nimport slyderMixins from '../mixins/slyderMixins'\nexport default {\n  name: 'Zoom',\n  mixins: [slyderMixins],\n  props: {\n    lente: {\n      type: String,\n      default: '150',\n    },\n    bajaResolucion: {\n      type: String,\n      default: '',\n    },\n    altaResolucion: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      zoomLevel: 1,\n      enter: false,\n      isClicked: false,\n      lensObj: {\n        top: 0,\n        left: 0,\n      },\n      zoomObj: {\n        top: 0,\n        left: 0,\n      },\n    }\n  },\n  computed: {\n    extraLensObj() {\n      return {\n        width: this.lente + 'px',\n        height: this.lente + 'px',\n        transform: `scale(${this.enter ? this.zoomLevel : 0})`,\n      }\n    },\n  },\n  watch: {\n    enter(newVal) {\n      if (!newVal) {\n        this.zoomLevel = 1\n      }\n    },\n  },\n  methods: {\n    onClick() {\n      if (!this.isClicked) {\n        this.isClicked = true\n        document.addEventListener('click', this.clicks)\n      }\n    },\n    clicks(e) {\n      if (e.path.find(x => x.id == `zoom-${this.mainId}`)) {\n        this.$refs.img.addEventListener('wheel', this.zoom)\n      } else if (this.isClicked) {\n        document.removeEventListener('click', this.clicks)\n        this.$refs.img.removeEventListener('wheel', this.zoom)\n        this.isClicked = false\n      }\n    },\n    move(e) {\n      const zoom = this.$refs.zoom\n      const zoomImg = this.$refs.zoomImg\n\n      let posX, posY, offset, percX, percY\n\n      if (e.touches) {\n        const imgCords = e.target.getBoundingClientRect()\n        posX = e.touches[0].clientX - imgCords.x\n        posY = e.touches[0].clientY - imgCords.y\n        offset = 1.1\n      } else {\n        posX = e.offsetX\n        posY = e.offsetY\n        offset = 2\n      }\n\n      this.lensObj.top = `${posY - zoom.offsetHeight / offset}px`\n      this.lensObj.left = `${posX - zoom.offsetWidth / offset}px`\n      percX = (posX - e.srcElement.offsetLeft) / e.srcElement.offsetWidth\n      percY = (posY - e.srcElement.offsetTop) / e.srcElement.offsetHeight\n\n      let zoomLeft = -percX * zoomImg.offsetWidth + zoom.offsetWidth / 2\n      let zoomTop = -percY * zoomImg.offsetHeight + zoom.offsetHeight / 2\n\n      this.zoomObj.left = `${zoomLeft}px`\n      this.zoomObj.top = `${zoomTop}px`\n    },\n    zoom(e) {\n      e.preventDefault()\n      e.deltaY > 0 ? this.zoomLevel++ : this.zoomLevel--\n      if (this.zoomLevel < 1) this.zoomLevel = 1\n      if (this.zoomLevel > 5) this.zoomLevel = 5\n    },\n  },\n}\n</script>\n\n<style lang=\"sass\"></style>\n"],"sourceRoot":"src/components"}]}